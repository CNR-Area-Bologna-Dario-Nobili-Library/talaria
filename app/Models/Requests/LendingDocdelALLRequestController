<?php

namespace App\Models\Requests;
use App\Models\Libraries\Tag;


class LendingDocdelALLRequestController extends DocdelRequest
{
    private $lending_attributes=[
        'lending_status', //stato rich. borrow
        'lending_notes', //dd_note_interne     
        'lending_archived', //0|1 indica se la rich Ã¨ archiviata
        'all_lender'
    ];

    protected static $observerClass=LendingDocdelALLRequestController::class;

    protected $statusField="lending_status";
    protected $table = 'docdel_requests';

    public function __construct()
    {
        parent::__construct();            

        $this->attributes=[];

        $this->fillable=array_merge($this->fillable,$this->lending_attributes);
        
        $this->visible=array_merge(parent::getVisible(),$this->lending_attributes);        
    }

    public function library()
    {
        return parent::lendinglibrary();
    }    
  
    public function scopeAlllender($query, $all_lender)
    {
        return $query->where('all_lender','=',$all_lender);
    }
}
